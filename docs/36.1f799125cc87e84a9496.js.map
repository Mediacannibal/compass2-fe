{"version":3,"sources":["webpack:///./src/components/Dashboard/LoginScreen/style.css","webpack:///./src/assets/google-logo.svg","webpack:///./src/assets/facebook.svg","webpack:///./src/components/Dashboard/LoginScreen/style.css?0a1a","webpack:///./src/components/Dashboard/LoginScreen/index.tsx"],"names":["___CSS_LOADER_EXPORT___","push","module","i","exports","options","locals","LoginScreen","history","useHistory","useColourObjectStore","colourObj","loaddefaultcolor","useAuth","auth","setAuth","userstore","selfuser","setselfuser","useState","aniout","setaniout","google_cookies","setgoogle_cookies","useEffect","user_type","ReactGA","pageview","window","location","pathname","search","loginCallback","data","errorresponse","status","console","log","JSON","stringify","localStorage","setItem","results","token","user_details","fade_in","props","className","HeaderComponent","screen","src","logofull","style","textDecorationColor","color_m2","clientId","render","renderProps","onClick","disabled","google","buttonText","onSuccess","Response","formData","FormData","userInfo","profileObj","append","familyName","givenName","imageUrl","email","googleId","accessToken","Sociallogin","setTimeout","onFailure","error","cookiePolicy","appId","scope","onResponse","response","profile","first_name","last_name","id","onError","facebook","googlecookies","FooterComponent","overflow"],"mappings":"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","file":"36.1f799125cc87e84a9496.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = __webpack_public_path__ + \"05f46f3334b6a7e92a0c75aec2185156.svg\";","module.exports = __webpack_public_path__ + \"3d160a5481135a48df8f17bde6bd7f89.svg\";","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./style.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { useEffect, useState } from 'react'\r\nimport './style.css'\r\n\r\nimport * as logofull from '../../../assets/DULT_logo.png'\r\nimport * as google from '../../../assets/google-logo.svg'\r\nimport * as facebook from '../../../assets/facebook.svg'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport FacebookProvider, { Login } from 'react-facebook-sdk';\r\nimport { Sociallogin } from '../../../utils/actions'\r\nimport { useHistory } from 'react-router-dom';\r\nimport ReactGA from 'react-ga';\r\nimport { useAuth } from '../../../store/authStore';\r\nimport { userstore } from '../../../store/userStore';\r\nimport HeaderComponent from 'components/Common/HeaderComponent'\r\nimport FooterComponent from 'components/Common/FooterComponent'\r\nimport { useColourObjectStore } from '../../../store/ColourStore';\r\nimport Popup from 'components/Common/Popup'\r\nimport Cookie from 'components/Common/Cookies'\r\n\r\ndeclare global {\r\n  interface Window { recaptchaVerifier: any; confirmationResult: any }\r\n}\r\n\r\nconst LoginScreen = () => {\r\n\r\n  const history = useHistory();\r\n  const { colourObj, loaddefaultcolor } = useColourObjectStore();\r\n  const { auth, setAuth } = useAuth()\r\n  const { selfuser, setselfuser } = userstore()\r\n  const [aniout, setaniout] = useState(false);\r\n  const [google_cookies, setgoogle_cookies] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (!auth) {\r\n      loaddefaultcolor()\r\n    } else {\r\n      if ((selfuser?.user_type) !== \"SUPER ADMIN\") {\r\n        history.push('/dashboard')\r\n      } else {\r\n        history.push('/')\r\n      }\r\n    }\r\n    ReactGA.pageview(window.location.pathname + window.location.search);\r\n  }, [])\r\n\r\n\r\n  const loginCallback = async (data: any, errorresponse: any) => {\r\n    if (data.status === 200) {\r\n      console.log('response ' + JSON.stringify(data));\r\n      localStorage.setItem('AuthToken', JSON.stringify(data.data.results.token));\r\n      localStorage.setItem('UserDetails', JSON.stringify(data.data.results.user_details));\r\n      localStorage.setItem('UsedSocialLoginMethod', \"true\");\r\n      setAuth(data.data.results.token)\r\n      setselfuser(data.data.results.user_details)\r\n      history.push('/Dashboard')\r\n    } else {\r\n      console.log('error ' + JSON.stringify(data));\r\n      console.log('error ' + JSON.stringify(errorresponse));\r\n    };\r\n  }\r\n\r\n  const fade_in = (props: any) => {\r\n    let result = (aniout ? (props + \" \" + \"fade_out\") : (props + \" \" + \"fade_in\"))\r\n    return result\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={fade_in(\"login_page\")}>\r\n\r\n        <HeaderComponent screen={\"login\"} />\r\n\r\n        <div className={fade_in(\"login_wrapper\")}>\r\n\r\n          <div className='login_top_container'>\r\n            <img className='login_menu_logo' src={logofull} />\r\n          </div>\r\n\r\n          <div className='loginTitle_Text'>ADMIN PANNEL</div>\r\n\r\n          <div className=\"login_form_wrapper\">\r\n\r\n            <div className=\"login_form_bg\"></div>\r\n\r\n            <div className='loginDescription_Text' style={{ textDecorationColor: colourObj.color_m2 }}>Login or Sign Up with any of the following:</div>\r\n\r\n            <div className=\" login_popupformcontainer1\">\r\n\r\n              <div className=\"SMlogin_button_container\">\r\n\r\n                <GoogleLogin\r\n                  clientId=\"581422038025-rte3a06d7kumasu887n64uikerfigmiv.apps.googleusercontent.com\"\r\n                  render={renderProps => (\r\n                    <button className=\"login_SMbutton\" onClick={renderProps.onClick} disabled={renderProps.disabled}>\r\n                      <img src={google} className=\"login_SMicon\" />\r\n                      <div className=\"login_buttontext1\">Continue with Google</div>\r\n                    </button>\r\n                  )}\r\n                  buttonText=\"Login\"\r\n                  onSuccess={Response => {\r\n                    console.log(Response)\r\n                    var formData = new FormData()\r\n                    let userInfo = Response.profileObj\r\n                    formData.append('lastname', userInfo.familyName);\r\n                    formData.append('firstname', userInfo.givenName);\r\n                    formData.append('photo_url', userInfo.imageUrl);\r\n                    formData.append('auth_provider', \"google\");\r\n                    formData.append('email', userInfo.email);\r\n                    formData.append('username', userInfo.googleId);\r\n                    localStorage.setItem(\"Bearer\", JSON.stringify(Response.accessToken))\r\n                    Sociallogin(loginCallback, formData)\r\n                    setaniout(true)\r\n                    setTimeout(() => {\r\n                      history.push(\"/dashboard\")\r\n                    }, 290);\r\n                  }}\r\n                  onFailure={(Response: any) => {\r\n                    setgoogle_cookies(Response.error)\r\n                    console.log(Response)\r\n                  }}\r\n                  cookiePolicy={'single_host_origin'}\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"SMlogin_button_container\">\r\n\r\n                <FacebookProvider appId=\"494516388401593\">\r\n                  <Login\r\n                    scope=\"email\"\r\n                    onResponse={(response: any) => {\r\n                      console.log(response.profile)\r\n                      console.log(Response)\r\n                      var formData = new FormData()\r\n                      let userInfo = response.profile\r\n                      formData.append('lastname', userInfo.first_name);\r\n                      formData.append('firstname', userInfo.last_name);\r\n                      formData.append('photo_url', \"\");\r\n                      formData.append('auth_provider', \"fb\");\r\n                      formData.append('email', userInfo.email);\r\n                      formData.append('username', userInfo.id);\r\n                      Sociallogin(loginCallback, formData)\r\n                      setaniout(true)\r\n                      setTimeout(() => {\r\n                        history.push(\"/dashboard\")\r\n                      }, 290);\r\n                    }}\r\n                    onError={(response: any) => {\r\n                      console.log(response)\r\n                    }}\r\n                  >\r\n                    <button className=\"login_SMbutton\">\r\n                      <img src={facebook} className=\"login_SMicon\" />\r\n                      <div className=\"login_buttontext1\">Continue with Facebook</div>\r\n                    </button>\r\n                  </Login>\r\n                </FacebookProvider>\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <Cookie googlecookies={google_cookies} />\r\n\r\n        <FooterComponent overflow=\"hidden\" />\r\n\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoginScreen;\r\n\r\n\r\n"],"sourceRoot":""}