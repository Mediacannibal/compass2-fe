{"version":3,"sources":["webpack:///./src/components/Game/style.css?587e","webpack:///./src/components/Game/index.tsx","webpack:///./src/components/Game/style.css"],"names":["options","locals","Game","level","levelstore","useColourObjectStore","colourObj","loaddefaultcolor","loadinstancecolor","useState","instancedata","setinstancedata","instancestore","instance","activeInstanceData","loadinstance","loadinstancewithcallback","setactiveInstanceData","loadactiveInstancebyID","useActiveScreen","ActiveScreen","setActiveScreen","useActivePopup","ActivePopup","setActivePopup","auth","useAuth","Language","useLocation","search","useLanguageStore","userActiveLevelDetailsStore","loadActiveleveldetailsbyqr","ActiveLevelDetails","loadActiveleveldetails","userActiveSubLevelDetailsStore","ActiveSubLevelDetails","loadActiveSubleveldetails","completed","setcompleted","setConfirm","aniout","setaniout","useEffect","id","localStorage","getItem","Number","progress","LanguageBasedPredefinedThings","data","value","title","desc1","getgameprogress","a","b","length","map","obj","screen_name","sl_types","Rewardscreen","isCompleted","main_body","Splash","Start","Home","Level","SubLevel","footer_body","Animation","onClick","setTimeout","className","Animationtype","style","backgroundColor","color_m1","opacity","animationDelay","src","lsqr","Popup","classname","desc2","popup_body","QRscanner","Settings","Share","EditProfile","confirm1","LoginPopup","Reward","completion_image","completion_text","completed_game","Submit","confirmClick","cancelClick","object","setItem","actionable","back_btn","___CSS_LOADER_EXPORT___","push","module","i"],"mappings":"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","file":"35.e5dd1023468ce35aafe2.js","sourcesContent":["import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./style.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { useEffect, useRef, useState } from 'react'\r\nimport './style.css'\r\n\r\nimport Level from 'components/Game/Screens/Level'\r\nimport Splash from 'components/Splash'\r\nimport SubLevel from 'components/Game/Screens/SubLevel'\r\nimport StartScreen from 'components/Game/Screens/Start'\r\nimport Home from 'components/Game/Screens/Home'\r\n\r\nimport { useActiveScreen } from '../../store/ActiveScreen';\r\nimport { useActivePopup } from '../../store/ActivePopup';\r\nimport { useAuth } from '../../store/authStore'\r\n\r\nimport { useHistory, useLocation, useParams } from 'react-router-dom';\r\nimport QRscanner from 'components/Game/Popups/QRscanner'\r\n\r\nimport { instancestore } from '../../store/InstanceStore';\r\nimport { useColourObjectStore } from '../../store/ColourStore'\r\nimport { useLanguageStore } from '../../store/LanguageStore'\r\nimport { userActiveLevelDetailsStore } from '../../store/ActiveLevelDetailsStore'\r\nimport { userActiveSubLevelDetailsStore } from '../../store/ActiveSubLevelDetailsStore'\r\n\r\nimport ScreenTemplate from 'components/Game/Screens'\r\n\r\nimport * as lsqr from '../../assets/images/Levels_Screen/LS_qr.png'\r\nimport Popup from 'components/Common/Popup'\r\nimport Settings from 'components/Game/Popups/Settings'\r\nimport Share from 'components/Game/Popups/Share'\r\nimport EditProfile from 'components/Game/Popups/EditProfile'\r\nimport LoginPopup from 'components/Game/Popups/LoginPopup'\r\nimport Reward from 'components/Game/Popups/Reward'\r\nimport Submit from 'components/Game/Popups/Submit'\r\nimport { levelstore } from '../../store/levelStore'\r\nimport Animationcomponent from '../Common/Animation'\r\nconst Game = () => {\r\n\r\n  const { level } = levelstore();\r\n\r\n  const { colourObj, loaddefaultcolor, loadinstancecolor } = useColourObjectStore();\r\n\r\n  const [instancedata, setinstancedata] = useState({})\r\n\r\n  const { instance, activeInstanceData, loadinstancewithcallback, setactiveInstanceData, loadinstance, loadactiveInstancebyID } = instancestore();\r\n\r\n  const { ActiveScreen, setActiveScreen } = useActiveScreen();\r\n  const { ActivePopup, setActivePopup } = useActivePopup();\r\n\r\n  const { auth } = useAuth();\r\n\r\n  const search = useLocation().search;\r\n\r\n  const { Language } = useLanguageStore();\r\n  const { loadActiveleveldetailsbyqr } = userActiveLevelDetailsStore();\r\n  const { ActiveLevelDetails, loadActiveleveldetails } = userActiveLevelDetailsStore();\r\n  const { ActiveSubLevelDetails, loadActiveSubleveldetails } = userActiveSubLevelDetailsStore();\r\n\r\n  const [completed, setcompleted] = useState(false)\r\n\r\n  const [confirm, setConfirm] = useState(false);\r\n\r\n  const [aniout, setaniout] = useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    if (!auth) {\r\n      loaddefaultcolor()\r\n      setActiveScreen(\"Splash\")\r\n    }\r\n    else {\r\n      if (!instance) {\r\n        loaddefaultcolor()\r\n        loadinstance()\r\n      } else {\r\n        if (activeInstanceData) {\r\n          loadinstancecolor(activeInstanceData.id)\r\n          setinstancedata(activeInstanceData)\r\n        }\r\n        if (!ActiveLevelDetails) {\r\n          loadActiveleveldetails(localStorage.getItem(\"ActiveLevel\"))\r\n        }\r\n        if (!ActiveSubLevelDetails) {\r\n          loadActiveSubleveldetails(localStorage.getItem(\"ActiveSubLevel\"))\r\n          setcompleted(Number(((ActiveLevelDetails) && ActiveLevelDetails.progress)) === 100 ? true : false)\r\n        }\r\n      }\r\n    }\r\n\r\n  }, [auth, instance, activeInstanceData])\r\n\r\n  const RenderScreen = () => {\r\n    if (ActiveScreen === \"Splash\") {\r\n      return <Splash />\r\n    } else if (ActiveScreen === \"StartScreen\") {\r\n      return <StartScreen />\r\n    } else if (ActiveScreen === \"Home\") {\r\n      return <Home aniout={aniout} setaniout={setaniout} />\r\n    } else if (ActiveScreen === \"Level\") {\r\n      return <Level aniout={aniout} setaniout={setaniout} />\r\n    } else if (ActiveScreen === \"SubLevel\") {\r\n      return <SubLevel aniout={aniout} setaniout={setaniout} />\r\n    } else\r\n      return <> </>\r\n  }\r\n\r\n  const RenderPopup = () => {\r\n    if (ActivePopup === \"QR\") {\r\n      return <QRscanner />\r\n    } else if (ActivePopup === \"settings\") {\r\n      return <Settings />\r\n    } else if (ActivePopup === \"share\") {\r\n      return <Share />\r\n    } else if (ActivePopup === \"editprofile\") {\r\n      return <EditProfile confirm1={() => { confirm }} />\r\n    } else if (ActivePopup === \"login\") {\r\n      return <LoginPopup />\r\n    } else if (ActivePopup === \"reward\") {\r\n      return <Reward completion_image={ActiveLevelDetails.completion_image} completion_text={ActiveLevelDetails.completion_text} />\r\n    } else if (ActivePopup === \"completed_game\") {\r\n      return <Reward completion_image={ActiveLevelDetails.completion_image} completion_text={ActiveLevelDetails.completion_text} completed_game={true} />\r\n    } else if (ActivePopup === \"submit\") {\r\n      return <Submit />\r\n    } else {\r\n      return <> </>\r\n    }\r\n  }\r\n\r\n  const LanguageBasedPredefinedThings = () => {\r\n    let data = {}\r\n    if (Language?.value === \"KANNADA\") {\r\n      switch (ActivePopup) {\r\n        case \"settings\":\r\n          data = {\r\n            title: \"ಸಂಯೋಜನೆಗಳು\"\r\n          }\r\n          break;\r\n        case \"share\":\r\n          data = {\r\n            title: \"ಶೇರ್ ಮಾಡಿ\"\r\n          }\r\n          break;\r\n        case \"profileedit\":\r\n          data = {\r\n            title: \"ಪ್ರೊಫೈಲ್ ಎಡಿಟ್\"\r\n          }\r\n          break;\r\n        case \"login\":\r\n          data = {\r\n            title: \"LOGIN\",\r\n            desc1: \"Please select your preferred method to login.\"\r\n          }\r\n      }\r\n    }\r\n    else {\r\n      switch (ActivePopup) {\r\n        case \"settings\":\r\n          data = {\r\n            title: \"SETTINGS\"\r\n          }\r\n          break;\r\n        case \"share\":\r\n          data = {\r\n            title: \"SHARE\"\r\n          }\r\n          break;\r\n        case \"profileedit\":\r\n          data = {\r\n            title: \"EDIT PROFILE\"\r\n          }\r\n          break;\r\n        case \"login\":\r\n          data = {\r\n            title: \"LOGIN\",\r\n            desc1: \"Please select your preferred method to login.\"\r\n          }\r\n      }\r\n    }\r\n    return data\r\n  }\r\n\r\n  const navigate = (object: any) => {\r\n    if (getgameprogress() === 100) {\r\n      setActivePopup(\"completed_game\")\r\n    } else {\r\n      setActiveScreen(\"Level\")\r\n      loadActiveleveldetails(object.id)\r\n      localStorage.setItem(\"ActiveLevel\", object.id)\r\n      setActivePopup(\"\")\r\n    }\r\n  }\r\n\r\n  const getgameprogress = () => {\r\n    let a = 0\r\n    let b = level && level.length\r\n    level && level.map((obj) => { a = a + Number(obj.progress) })\r\n    return (a / b)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ScreenTemplate\r\n        aniout={aniout}\r\n        setaniout={setaniout}\r\n        instancedata={instancedata}\r\n        screen_name={(ActiveScreen === \"SubLevel\") ? (ActiveSubLevelDetails.sl_types + \" \" + ActiveScreen) : ActiveScreen}\r\n        Rewardscreen={((ActiveScreen === \"Level\") && completed)}\r\n        setcompleted={(ActiveScreen === \"Level\") && setcompleted}\r\n        isCompleted={(ActiveScreen === \"Level\") && (ActiveLevelDetails) && ActiveLevelDetails.progress === 100}\r\n        main_body={RenderScreen()}\r\n        footer_body={(ActiveScreen === \"Home\") &&\r\n          <Animationcomponent\r\n            onClick={() => {\r\n              setaniout(true);\r\n              setTimeout(() => {\r\n                setActivePopup(\"QR\")\r\n              }, 290);\r\n            }}\r\n            aniout={aniout}\r\n            className={'task_scanqrcontainer'}\r\n            Animationtype={\"fade_out\"}\r\n            style={aniout ? { backgroundColor: colourObj.color_m1 }\r\n              : { backgroundColor: colourObj.color_m1, opacity: 0, animationDelay: '1.6s' }}>\r\n            <img className='task_scanqr' src={lsqr} />\r\n          </Animationcomponent>\r\n        }\r\n      />\r\n\r\n      {(ActivePopup.length > 0) &&\r\n        <Popup\r\n          classname={\"game\"}\r\n          title={LanguageBasedPredefinedThings().title}\r\n          desc1={LanguageBasedPredefinedThings().desc1}\r\n          desc2={LanguageBasedPredefinedThings().desc2}\r\n          popup_body={RenderPopup()}\r\n          confirmClick={() => { setConfirm(true) }}\r\n          cancelClick={() => {\r\n            (ActivePopup === \"reward\") ? navigate(ActiveLevelDetails.id) : (ActivePopup === \"completed_game\") ? setActiveScreen(\"Home\") : setActivePopup(\"\")\r\n          }}\r\n          actionable={(ActivePopup === \"editprofile\") ? true : false}\r\n          back_btn={((ActivePopup === \"editprofile\") || (ActivePopup === \"QR\")) || (ActivePopup === \"completed_game\") ? false : true}\r\n        />\r\n      }\r\n    </>\r\n  )\r\n}\r\nexport default Game;\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}