{"version":3,"sources":["webpack:///./src/utils/api/getuser.ts","webpack:///./src/utils/api/edituser.ts","webpack:///./src/utils/api/getcurrentuser.ts","webpack:///./src/utils/api/editprofileuser.ts","webpack:///./src/store/userStore.ts"],"names":["getuser","axios","get","headers","String","localStorage","getItem","edituser","id","data","put","getcurrentuser","editprofileuser","userStore","Store","userDetail","JSON","parse","userstore","useStore","user","setuser","selfuser","setselfuser","loaduser","then","err","console","log","logerror","response","res","oldarr","map","obj","x","image","firstname","lastname","email","address","dob","user_type","gender","auth_type","photo_url","dial_code","phone","loadcurrentuser","result","setItem","stringify"],"mappings":"gRAGA,IAKeA,EALF,e,EAAA,G,EAAA,yBAAG,6GAEEC,IAAMC,IAAN,aAAwB,CAAE,QAAWC,YAAQC,OAAOC,aAAaC,QAAQ,iBAF3E,kF,+KAAH,qD,yHCAb,IAKeC,EALD,e,EAAA,G,EAAA,yBAAG,WAAOC,EAASC,GAAhB,gGAECR,IAAMS,IAAN,4BAA+BF,EAA/B,KAAsCC,EAAM,CAAE,QAAWN,YAAQC,OAAOC,aAAaC,QAAQ,iBAF9F,kF,+KAAH,wD,yHCAd,IAKeK,EALK,e,EAAA,G,EAAA,yBAAG,6GAELV,IAAMC,IAAN,gBAA2B,CAAE,QAAWC,YAAQC,OAAOC,aAAaC,QAAQ,iBAFvE,kF,+KAAH,qD,yHCApB,IAKeM,EALM,e,EAAA,G,EAAA,yBAAG,WAAOH,GAAP,gGAENR,IAAMS,IAAN,qBAAgCD,EAAM,CAAE,QAAWN,YAAQC,OAAOC,aAAaC,QAAQ,iBAFjF,kF,+KAAH,sD,oxCCGd,IAmEMO,EAAY,IAAIC,KAA0B,GAC1CC,EAAa,IAAID,IACJ,oBAAjBT,iBAEHA,aAAaC,QAAQ,gBACnBU,KAAKC,MAAMb,OAAOC,aAAaC,QAAQ,mBAIlCY,EAAY,WACvB,QAAwBC,YAASN,GAAjC,GAAOO,EAAP,KAAaC,EAAb,KACA,IAAgCF,YAASJ,GAAzC,GAAOO,EAAP,KAAiBC,EAAjB,KAEA,MAAO,CACLH,OACAC,UACAC,WACAC,cAEMC,SAND,WAMY,+IACTxB,IACHyB,MAAK,SAAAhB,GACJY,EAAQZ,EAAKA,SAFX,OAKG,SAAAiB,GACLC,QAAQC,IAAIF,GACZG,YAASH,EAAKA,EAAII,aARP,8CAWXvB,SAjBD,SAiBUC,EAASC,GAAW,+IAC3BF,EAASC,EAAIC,GAChBgB,MAAK,SAAAM,GACJV,GAAQ,SAAAW,GACN,OACEA,GACAA,EAAOC,KAAI,SAACC,GACV,IACMC,EAeN,OAAO/B,OAAO8B,EAAI1B,MAAQJ,OAAOI,KAf3B2B,EAewCD,GAd1CE,MAAQ3B,EAAK2B,MACfD,EAAEE,UAAY5B,EAAK4B,UACnBF,EAAEG,SAAW7B,EAAK6B,SAClBH,EAAEI,MAAQ9B,EAAK8B,MACfJ,EAAEK,QAAU/B,EAAK+B,QACjBL,EAAEM,IAAMhC,EAAKgC,IACbN,EAAEO,UAAYjC,EAAKiC,UACnBP,EAAEQ,OAASlC,EAAKkC,OAChBR,EAAES,UAAYnC,EAAKmC,UACnBT,EAAEU,UAAYpC,EAAKoC,UACnBV,EAAEW,UAAYrC,EAAKqC,UACnBX,EAAEY,MAAQtC,EAAKsC,MACRZ,GAE4CD,WAtBzD,OA2BG,SAAAR,GACLC,QAAQC,IAAIF,GACZG,YAASH,EAAKA,EAAII,aA9BW,8CAkC7BkB,gBAnDD,WAmDmB,+IAChBrC,IACHc,MAAK,SAAChB,GAELc,EAAYd,EAAKA,KAAKwC,WAHpB,OAKG,SAAAvB,GACLC,QAAQC,IAAIF,GACZG,YAASH,EAAKA,EAAII,aARA,8CAWlBlB,gBA9DD,SA8DiBH,GAAW,+IACzBG,EAAgBH,GACnBgB,MAAK,SAAAM,GAGJR,GAAY,SAACS,GACX,IAAIG,EAAIH,EAcR,OAbAG,EAAEE,UAAY5B,EAAK4B,UACnBF,EAAEG,SAAW7B,EAAK6B,SAClBH,EAAEI,MAAQ9B,EAAK8B,MACfJ,EAAEC,MAAQ3B,EAAK2B,MACfD,EAAEU,UAAYpC,EAAKoC,UACnBV,EAAEM,IAAMhC,EAAKgC,IACbN,EAAEQ,OAASlC,EAAKkC,OAChBR,EAAEK,QAAU/B,EAAK+B,QACjBL,EAAEW,UAAYrC,EAAKqC,UACnBX,EAAEY,MAAQtC,EAAKsC,MAEf1C,aAAa6C,QAAQ,cAAelC,KAAKmC,UAAUhB,IAE5CA,QAnBP,OAsBG,SAAAT,GACLC,QAAQC,IAAIF,GACZG,YAASH,EAAKA,EAAII,aAzBS","file":"0.0316b16f1cd3e6df7c7c.js","sourcesContent":["import axios from '../axios';\r\nimport headers from '../headers';\r\n\r\nconst getuser = async () => {\r\n\r\n    return (await axios.get(`user/list/`, { \"headers\": headers(String(localStorage.getItem(\"AuthToken\"))) }));\r\n};\r\n\r\nexport default getuser;","import axios from '../axios';\r\nimport headers from '../headers';\r\n\r\nconst edituser = async (id: any, data: any) => {\r\n\r\n    return (await axios.put(`user/edit_profile/${id}/`, data, { \"headers\": headers(String(localStorage.getItem(\"AuthToken\"))) }));\r\n};\r\n\r\nexport default edituser;","import axios from '../axios';\r\nimport headers from '../headers';\r\n\r\nconst getcurrentuser = async () => {\r\n\r\n    return (await axios.get(`user/profile/`, { \"headers\": headers(String(localStorage.getItem(\"AuthToken\"))) }));\r\n};\r\n\r\nexport default getcurrentuser;","import axios from '../axios';\r\nimport headers from '../headers';\r\n\r\nconst editprofileuser = async (data: any) => {\r\n\r\n    return (await axios.put(`user/profile/edit/`, data, { \"headers\": headers(String(localStorage.getItem(\"AuthToken\"))) }));\r\n};\r\n\r\nexport default editprofileuser;","import { Store, useStore } from './Store'\r\nimport getuser from '../utils/api/getuser'\r\nimport edituser from '../utils/api/edituser'\r\nimport getcurrentuser from '../utils/api/getcurrentuser'\r\nimport editprofileuser from '../utils/api/editprofileuser'\r\nimport { logerror } from 'utils/actions'\r\nexport class userItem {\r\n  id: String\r\n  image: String\r\n  firstname: String\r\n  lastname: String\r\n  email: String\r\n  address: String\r\n  dob: String\r\n  user_type: String\r\n  gender: String\r\n  auth_type: String\r\n  photo_url: String\r\n  dial_code: String\r\n  phone: String\r\n  is_deleted: String\r\n  updated_by: String\r\n  owned_by: String\r\n  created_at: String\r\n  updated_at: String\r\n  created_by: String\r\n  TextData: any\r\n\r\n  constructor(o: {\r\n    id: String\r\n    image: String\r\n    firstname: String\r\n    lastname: String\r\n    email: String\r\n    address: String\r\n    dob: String\r\n    user_type: String\r\n    gender: String\r\n    auth_type: String\r\n    photo_url: String\r\n    dial_code: String\r\n    phone: String\r\n    is_deleted: String\r\n    updated_by: String\r\n    owned_by: String\r\n    created_at: String\r\n    updated_at: String\r\n    created_by: String\r\n    TextData: any\r\n  }) {\r\n    this.id = o.id\r\n    this.image = o.image\r\n    this.firstname = o.firstname\r\n    this.lastname = o.lastname\r\n    this.email = o.email\r\n    this.address = o.address\r\n    this.dob = o.dob\r\n    this.user_type = o.user_type\r\n    this.gender = o.gender\r\n    this.auth_type = o.auth_type\r\n    this.photo_url = o.photo_url\r\n    this.dial_code = o.dial_code\r\n    this.phone = o.phone\r\n    this.is_deleted = o.is_deleted\r\n    this.updated_by = o.updated_by\r\n    this.owned_by = o.owned_by\r\n    this.created_at = o.created_at\r\n    this.updated_at = o.updated_at\r\n    this.created_by = o.created_by\r\n    this.TextData = o.TextData\r\n  }\r\n}\r\n\r\nexport const userStore = new Store<userItem[] | false>(false)\r\nexport const userDetail = new Store<userItem | string>(\r\n  typeof localStorage === 'undefined'\r\n    ? false\r\n    : localStorage.getItem('UserDetails')\r\n      ? JSON.parse(String(localStorage.getItem('UserDetails')))\r\n      : false\r\n)\r\n\r\nexport const userstore = () => {\r\n  const [user, setuser] = useStore(userStore)\r\n  const [selfuser, setselfuser] = useStore(userDetail)\r\n\r\n  return {\r\n    user,\r\n    setuser,\r\n    selfuser,\r\n    setselfuser,\r\n\r\n    async loaduser() {\r\n      await getuser()\r\n        .then(data => {\r\n          setuser(data.data)\r\n          // console.log('selfuser selfuser selfuser :', data.data)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          logerror(err, err.response)\r\n        })\r\n    },\r\n    async edituser(id: any, data: any) {\r\n      await edituser(id, data)\r\n        .then(res => {\r\n          setuser(oldarr => {\r\n            return (\r\n              oldarr &&\r\n              oldarr.map((obj: any) => {\r\n                const getobj = (o: any) => {\r\n                  let x = o\r\n                  x.image = data.image\r\n                  x.firstname = data.firstname\r\n                  x.lastname = data.lastname\r\n                  x.email = data.email\r\n                  x.address = data.address\r\n                  x.dob = data.dob\r\n                  x.user_type = data.user_type\r\n                  x.gender = data.gender\r\n                  x.auth_type = data.auth_type\r\n                  x.photo_url = data.photo_url\r\n                  x.dial_code = data.dial_code\r\n                  x.phone = data.phone\r\n                  return x\r\n                }\r\n                return String(obj.id) === String(id) ? getobj(obj) : obj\r\n              })\r\n            )\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          logerror(err, err.response)\r\n        })\r\n    },\r\n\r\n    async loadcurrentuser() {\r\n      await getcurrentuser()\r\n        .then((data: any) => {\r\n          // console.log('currentuser :', data.data.result)\r\n          setselfuser(data.data.result)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          logerror(err, err.response)\r\n        })\r\n    },\r\n    async editprofileuser(data: any) {\r\n      await editprofileuser(data)\r\n        .then(res => {\r\n          // console.log('edit >>> :', data, res)\r\n\r\n          setselfuser((oldarr: any) => {\r\n            let x = oldarr\r\n            x.firstname = data.firstname\r\n            x.lastname = data.lastname\r\n            x.email = data.email\r\n            x.image = data.image\r\n            x.photo_url = data.photo_url\r\n            x.dob = data.dob\r\n            x.gender = data.gender\r\n            x.address = data.address\r\n            x.dial_code = data.dial_code\r\n            x.phone = data.phone\r\n\r\n            localStorage.setItem('UserDetails', JSON.stringify(x))\r\n\r\n            return x\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          logerror(err, err.response)\r\n        })\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}